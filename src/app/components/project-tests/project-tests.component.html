<!-- <h1>Les tests de projet: <b>{{testResult.name}}</b></h1>

<div *ngIf="testResult">
  <div *ngFor="let item of testResult.responseDto">
    <h1>{{item.type}}</h1>
  </div>
</div> -->


<div class="container">
  <!-- <h1 class="text-center">Les tests de projet: <b>{{testResult.name}}</b></h1> -->
  <div class="section" *ngFor="let responseDto of testResult.responseDto">
    <div class="section-header get-section" (click)="toggleCollapse()">
      <div class="section-title">{{ responseDto?.type }}</div>
      <div class="section-content">{{ responseDto?.url }}</div>
      <div>
        <span class="section-title badge badge-secondary">{{ responseDto?.httpStatus }}</span>
        <span class="badge text-bg-danger">{{ responseDto?.validationStatus }}</span>
      </div>
      <div class="section-triangle"></div>
    </div>
    <div class="section-content" [ngClass]="{ 'collapse': isCollapsed }">
      <div class="section-title">Expected response</div>
      <div class="scrollable-section">
        <pre class="json-code">
                  <div class="section-content">{{ responseDto?.expectedResponse }}</div>
              </pre>
      </div>
      <div class="section-title">Actual Response</div>
      <div class="scrollable-section">
        <pre class="json-code">
                  <div class="section-content">{{ responseDto?.actualResponse }}</div>
              </pre>
      </div>
      <!-- <div *ngIf="responseDto?.validationStatus !== 'VALID'">
        <div class="section-title">Report</div>
        <div class="scrollable-section">
          <div class="section-content">
            <div *ngFor="let message of responseDto?.messages">
              <p>{{ message }}</p>
            </div>
          </div>
        </div>
      </div> -->
    </div>
  </div>
</div>